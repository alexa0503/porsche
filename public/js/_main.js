function H5Jump(){H5Jump.me=this;window.h5jump=this;this.historyData="";this.point=ABC.start;this.btn_reflect(this.point);this.init_reflect(this.point)}H5Jump.prototype.constructor=H5Jump;H5Jump.prototype.me;H5Jump.prototype.historyData="";H5Jump.prototype.point="";H5Jump.prototype.back=function(e){if(this.historyData==""){return}if(e)$("."+this.point).fadeOut();else $("."+this.point).hide();if(this.historyData.indexOf(",")==-1){this.point=this.historyData;this.historyData="";this.btn_reflect(this.point);this.init_reflect(this.point)}else{var t=this.historyData.split(",");t.pop();this.point=t.pop();this.historyData=t.join(",");this.doNext(e)}};H5Jump.prototype.doNext=function(e){var t=this.point;if(this.historyData==""){this.historyData=t}else{this.historyData+=","+t}var i=ABC.route;for(var n=0;n<i.length;n++){var a=i[n];if(a.indexOf(this.historyData+",")!=-1){wantln=a;var r=a.split(this.historyData+",")[1];if(r.indexOf(",")>-1){r=r.split(",")[0]}SiteEvt.dis(enumID.showMe,{msg:r});this.point=r;$("."+r).appendTo($("."+r).parent());break}}this.btn_reflect(this.point);this.init_reflect(this.point);if(e)$("."+this.point).fadeIn();else $("."+this.point).show()};H5Jump.prototype.init_reflect=function(tag){var initArr=ABC.init;for(var i=0;i<initArr.length;i++){var btnSetting=initArr[i];var rotue=btnSetting[0];if(rotue==tag){var xpath=btnSetting[1];var evt=btnSetting[2];var element=$(xpath);if(element.length){evt=evt.replace("this",'"'+xpath+'"');eval(evt)}else{}}}};H5Jump.prototype.btn_reflect=function(e){var t=ABC.btn;for(var i=0;i<t.length;i++){var n=t[i];var a=n[0];if(a==e){var r=n[1];var o=n[2];var s=$(r);if(s.length){s.attr("onclick",o);s.addClass("btnbtn")}else{}}}};function H5Loader(){}H5Loader.prototype.constructor=H5Loader;H5Loader.loadImg=function(e,t,i,n){var a=$(e);var r=0;function o(){r++;t.call(n,r,a.length);if(r==a.length){i.call(n)}}for(var s=0;s<a.length;s++){var c=a[s];var l=$(c).attr("original-data");c.onload=c.onerror=function(){JSdebug.trace(this.src);o()};if(!l){console.log(l,c)}c.src=l}};H5Loader.loadImg_oj=function(e,t,i,n){var a=OJ.getAll(e);var r=0;function o(){r++;t.call(n,r,a.length);if(r==a.length){i.call(n)}}for(var s=0;s<a.length;s++){var c=a[s];var l=c.getAttribute("original-data");c.onload=c.onerror=function(){o()};c.src=l}};H5Loader.delayloadjs=function(e,t,i,n,a){if(a==undefined)a=false;var r=0;window.delyjsok=function(){r++;if(r==e.length){i.call(n)}else{t.call(n)}};e.map(function(e,t,i){var n=document.getElementsByTagName("head")[0];var r=document.createElement("script");r.type="text/javascript";if(a)e=e+"?r="+Math.random();r.src=e;r.setAttribute("onload","window.delyjsok();");n.appendChild(r)})};H5Loader.loadImg2=function(e,t,i,n,a,r){var o=[];var s=uMath.random(14);var c=0;var l=[];var h=$('<div class="abs temp'+s+'"></div>');$("body").append(h);h.css("left","-10000px");h.css("top","-10000px");var f=h[0];function p(){c++;if(a){t.call(n,c,e.length,r)}else{t.call(n,c,e.length)}if(c==e.length){if(r){r.unshift(o);i.apply(n,r)}else{i.call(n,o)}}else{}}for(var v=0;v<e.length;v++){var u=e[v];var d=new Image;d.onload=d.onerror=function(){this.style.display="none";p()};d.src=u;o.push(d);f.appendChild(d)}};function HKit(){}HKit.prototype.constructor=HKit;HKit.delay=function(e,t,i,n){if(t==undefined){console.error("错误")}var a=window.setTimeout(function(){if(n==null){t.call(i)}else{t.apply(i,n)}},e*1e3);return a};HKit.loop=function(e,t,i,n){var a=window.setInterval(function(){if(n)t.apply(i,n);else t.call(i)},e*1e3);if(n)t.apply(i,n);else t.call(i);return a};HKit.enterframe=function(e,t,i,n){window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();(function e(){requestAnimFrame(e);if(n)t.apply(i,n);else t.call(i)})()};HKit.getMcInRoot=function(e,t){var i=e[t];e.removeChild(i);if(i.hasOwnProperty("gotoAndStop"))i.gotoAndStop(0);return i};HKit.aCt=function(e){var t=new createjs.Container;e.addChild(t);return t};HKit.aRec=function(e,t){var i=new createjs.Shape;i.graphics.beginFill(t).drawRect(0,0,660,960);e.addChild(i);return i};HKit.getMc=function(e,t){return HKit.getChild(e,t)};HKit.getChild=function(e,t){if(e==null)console.err(t+"之前为空");if(t==null)console.err(t+"为空");if(t.indexOf(".")==-1){return e[t]}var i=t.split(".").length;var n=e;while(i>1){var a=t.substring(0,t.indexOf("."));t=t.substring(t.indexOf(".")+1,t.length);n=n[a];i=t.split(".").length}if(n==null)console.err(t+"之前a为空");if(t==null)console.err(t+"为空");return n[t]};HKit.getText=function(e,t){var i=e[t];return i};HKit.fun2=function(e,t,i){return function(){if(arguments.length>0){e.apply(t,arguments)}else{e.call(t)}}};HKit.fn=function(e,t,i){var n=function(){if(arguments.length>0){if(i!=undefined){var n=[];for(var a=0;a<arguments.length;a++){n[a]=arguments[a]}n=n.concat(i);e.apply(t,n)}else{e.apply(t,arguments)}}else{if(i!=undefined){e.apply(t,i)}else{e.call(t)}}};if(HKit._deleArr_==undefined){HKit._deleArr_=[]}HKit._deleArr_.push({fn:e,ref:t,ff:n});return n};HKit.de=function(e,t){if(HKit._deleArr_==undefined)return undefined;for(var i=HKit._deleArr_.length-1;i>=0;i--){var n=HKit._deleArr_[i];if(n["fn"]==e&&n["ref"]==t){return n["ff"]}}return undefined};HKit.debugLayer=function(e){for(var t=0;t<e.numChildren;t++){}};HKit.remove=function(e){if(e.parent!=undefined){e.parent.removeChild(e)}};function JSdebug(){}JSdebug.prototype.constructor=JSdebug;JSdebug.initDebug=function(){if(OJ.getAll(".debug").length==0){var e=document.createElement("div");e.setAttribute("class","debug");window.document.body.appendChild(e)}};JSdebug.print=function(){JSdebug.trace.apply(JSdebug,arguments)};JSdebug.trace=function(){var e=[];for(var t=0;t<arguments.length;t++){e.push(arguments[t])}var i=OJ.getOne(".debug");if(!i)return;var n=i.innerText;i.innerText=(e.join("    ")+""+n).substring(0,500)};JSdebug.clear=function(){var e=OJ.getOne(".debug");if(e)e.innerText=""};function OJ(){}OJ.prototype.constructor=OJ;OJ.GetQueryString=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)");var i=window.location.search.substr(1).match(t);if(i!=null)return unescape(i[2]);return null};OJ.getSub=function(e,t){var i=t.split(" ");var n=e;var a=[];function r(e,t){if(t.indexOf(".")==0){t=t.replace(".","");_outArr2=e.getElementsByClassName(t);p=[];for(var i=0;i<_outArr2.length;i++){p.push(_outArr2[i])}}else if(t.indexOf("#")==0){t=t.replace("#","");p=[e.getElementById(t)]}else{_outArr2=e.getElementsByTagName(t);p=[];for(var i=0;i<_outArr2.length;i++){p.push(_outArr2[i])}}return p}var o=[n];var s=0;while(i.length){var c=i.shift();if(c==""){continue}var l=[];for(var h=0;h<o.length;h++){var f=o[h];var p=r(f,c);l=l.concat(p)}o=l.concat();s++}for(var v=0;v<p.length;v++){a.push(p[v])}return a};OJ.getAll=function(e){return OJ.getSub(document,e)};OJ.getOne=function(e){return OJ.getSub(document,e)[0]};OJ.offset=function(e){var t={top:0,left:0};OJ.getOffset(t,e,true);return t};OJ.getOffset=function(e,t,i){var n;if(t.nodeType!==1){return}n=window.getComputedStyle(t)["position"];if(typeof i==="undefined"&&n==="static"){OJ.getOffset(e,t.parentNode);return}e.top=t.offsetTop+e.top-t.scrollTop;e.left=t.offsetLeft+e.left-t.scrollLeft;if(n==="fixed"){return}OJ.getOffset(e,t.parentNode)};OJ.text=function(e){var t="";e=e.childNodes||e;for(var i=0;i<e.length;i++){t+=e[i].nodeType!=1?e[i].nodeValue:text(e[i].childNodes)}return t};OJ.getWH=function(){if(window.innerHeight)winHeight=window.innerHeight;else if(document.body&&document.body.clientHeight)winHeight=document.body.clientHeight;return winHeight};OJ.hasClass=function(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))};OJ.addClass=function(e,t){if(!this.hasClass(e,t))e.className+=" "+t};OJ.removeClass=function(e,t){if(OJ.hasClass(e,t)){var i=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(i," ")}};OJ.toggleClass=function(e,t){if(hasClass(e,t)){OJ.removeClass(e,t)}else{OJ.addClass(e,t)}};OJ.toggleClassTest=function(){var e=document.getElementById("test");OJ.toggleClass(e,"testClass")};OJ.remove=function(e){var t=e.parentNode;if(t){t.removeChild(e)}};function UDevice(){}UDevice.prototype.constructor=UDevice;UDevice.prototype.HasPerformance;UDevice.prototype.DevicePixelRatio;UDevice.prototype.ImgRatio;UDevice.prototype.BrowserID;UDevice.prototype.PlatformID;UDevice.prototype.isApple;UDevice.prototype.isMobile;UDevice.prototype.LoopInterval;UDevice.me;UDevice.getMe=function(){if(UDevice.me==null){UDevice.me=new UDevice;UDevice.me.init()}return UDevice.me};UDevice.prototype.init=function(){this.DevicePixelRatio=UDevice.getDevicePixelRatio();this.HasPerformance=UDevice.supportPerformance();this.ImgRatio=UDevice.getImgRatio();this.BrowserID=UDevice.CheckExplorerID();this.PlatformID=UDevice.getPlatformID();this.isApple=this.checkIsApple();this.isMobile=this.checkIsMobile();this.HasFastLoop=this.supportFastLoop()};UDevice.checkSupportAdvanceH5=function(){var e=document.createElement("canvas");e.h5ou=false;var t={h5qu:false,h5ru:false,set_opacity:true,zDistance:true,h5tu:false,h5uu:false,h5vu:true};var i=["experimental-webgl","webgl","webkit-3d","moz-webgl"];for(var n=0;n<i.length;n++){try{e.h5ou=e.getContext(i[n],t)}catch(e){}if(e.h5ou){break}}var a=e.h5ou!==false?true:false;e.h5ou=null;e=null;return a};UDevice.check_canvas2d=function(){var e=document.createElement("canvas");var t=e.getContext("2d");var i=typeof t=="object"?true:false;e=null;t=null;return i};UDevice.checkSupportBaseH5=function(){return UDevice.check_transform()&&UDevice.check_canvas2d()};UDevice.check_transform=function(){if(!Ucss.contain_css_attribute("transform webkitTransform mozTransform oTransform msTransform"))return false;if(!Ucss.isSupport_perspective()){return false}return true};UDevice.prototype.getBestLoopInterval=function(){switch(this.PlatformID){case 1:return 33;case 2:var e=this.getSthNum222();switch(e){case 0:return 50;case 1:return 40;case 2:return 33;case 3:return 25;default:return 33}return 5;case 3:return 33;case 4:return 33;default:return 33}};UDevice.prototype.getSthNum222=function(){var e=UDevice.getMe().screenSize.x<UDevice.getMe().screenSize.y?UDevice.getMe().screenSize.x:UDevice.getMe().screenSize.y;var t=UDevice.getMe().screenSize.x<UDevice.getMe().screenSize.y?UDevice.getMe().screenSize.y:UDevice.getMe().screenSize.x;if(e==320)return t==480?0:1;if(e==375)return 2;if(e==414)return 3;return-1};UDevice.prototype.supportFastLoop=function(){return window.requestAnimationFrame!==undefined?true:false};UDevice.prototype.isScreenScaleOK=function(){if(!UDevice.getMe().isMobile){return false}var e=3/4;var t=UDevice.getMe().screenSize.x/UDevice.getMe().screenSize.y;var i=Math.abs(e-t);if(i<.01){return true}return UDevice.getMe().screenSize.x>=580?true:false};UDevice.prototype.checkIsMobile=function(){return this.PlatformID>=0&&this.PlatformID<=4};UDevice.supportPerformance=function(){if(typeof window.h5qq!=="undefined"){if(typeof window.h5qq.now!=="undefined"){return true}}return false};UDevice.prototype.checkIsApple=function(){switch(this.PlatformID){case 2:return true;case 1:default:return false}};UDevice.getDevicePixelRatio=function(){return window.devicePixelRatio!==undefined?Math.max(window.devicePixelRatio,1):1};UDevice.getScreenSize=function(){if(window.screen==undefined){return UDevice.countScreenSize(window.innerWidth,window.innerHeight)}if(window.screen.width==undefined){return UDevice.countScreenSize(window.innerWidth,window.innerHeight)}return UDevice.countScreenSize(window.screen.width,window.screen.height)};UDevice.countScreenSize=function(e,t){};UDevice.getImgRatio=function(){return 1/UDevice.getDevicePixelRatio()};UDevice.CheckExplorerID=function(){if(navigator.userAgent.indexOf("Firefox")!=-1)return 2;else if(navigator.userAgent.indexOf("Chrome")!=-1)return 3;else if(navigator.userAgent.indexOf("Safari")!=-1)return 4;else if(navigator.userAgent.indexOf("MSIE")!=-1)return 1;else if(navigator.userAgent.indexOf("rv:")!=-1)return 1;else if(navigator.userAgent.indexOf("iPhone")!=-1)return 4;else if(navigator.userAgent.indexOf("iPod")!=-1)return 4;else if(navigator.userAgent.indexOf("iPad")!=-1)return 4;return 0};UDevice.getPlatformID=function(){if(navigator.userAgent.indexOf("Android")!=-1)return 1;else if(navigator.userAgent.indexOf("iPad")!=-1)return 2;else if(navigator.userAgent.indexOf("iPod")!=-1)return 2;else if(navigator.userAgent.indexOf("iPhone")!=-1)return 2;else if(navigator.userAgent.indexOf("webOS")!=-1)return 3;else if(navigator.userAgent.indexOf("mobile")!=-1)return 4;else if(navigator.userAgent.indexOf("Windows Phone")!=-1)return 4;else if(navigator.userAgent.indexOf("Windows Mobile")!=-1)return 4;else if(navigator.userAgent.indexOf("IEMobile")!=-1)return 4;else if(navigator.userAgent.indexOf("Nokia")!=-1)return 4;else if(navigator.appVersion.indexOf("Win")!=-1)return 5;else if(navigator.appVersion.indexOf("Mac")!=-1)return 6;else if(navigator.appVersion.indexOf("Linux")!=-1)return 7;else if(navigator.appVersion.indexOf("X11")!=-1)return 8;return 0};UDevice.is_weixin=function(){var e=navigator.userAgent.toLowerCase();if(e.match(/MicroMessenger/i)=="micromessenger"){return true}else{return false}};function uMath(){}uMath.prototype.constructor=uMath;uMath.formate_time=function(e){if(e<60){if(e<10)return i="00:0"+e;return"00:"+e}var t=Math.floor(e/60);var i=e%60;if(i<10)i="0"+i;if(t<10)return"0"+t+":"+i;else return"0"+t+":"+i;return"00:00"};uMath.vvScope=function(e,t,i){return(e[0]-e[1])*(i-t[1])/(t[0]-t[1])+e[1]};uMath.systemChange=function(e,t,i){var n=parseInt(e,t);return n.toString(i)};uMath.random=function(e){return Math.ceil(Math.random()*e)};uMath.randomWithin=function(e,t,i){var n=Math.floor((t-e+i)/i);return Math.floor(Math.random()*n)*i+e};uMath.limit=function(e,t,i){if(e>t)return Math.max(t,Math.min(e,i));else return Math.max(e,Math.min(t,i));return i};uMath.abs=function(e){return e<0?-e:e};uMath.distance=function(e,t){return Math.abs(Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)))};uMath.distanceV2=function(e,t){var e=e.localToLocal(e.x,e.y,t);return Math.abs(Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y)))};function WXDevil(){}WXDevil.prototype.constructor=WXDevil;WXDevil.me;WXDevil.getMe=function(){if(WXDevil.me==null){WXDevil.me=new WXDevil}return WXDevil.me};WXDevil.prototype.killWXdevil=function(){var e=this;if(UDevice.getMe().isMobile){document.addEventListener("touchmove",function(t){e.setXorYType22(t)});document.addEventListener("touchstart",function(t){e.setclientXorY22(t)});document.addEventListener("touchend",function(t){e.clearSthCCC(t)})}else{if(window.h5xo){document.onmousemove=function(t){e.setXorY(t)};document.onmousedown=function(t){e.h5ep(t)};document.onmouseup=function(t){e.clearSthBBB(t)}}else{document.onmousemove=function(t){e.setXorYType2(t)};document.onmousedown=function(t){e.setclientXorY(t)};document.onmouseup=function(t){e.clearSthAAA(t)}}}};WXDevil.prototype.setXorYType22=function(e){this.isTouched=true;e.preventDefault()};WXDevil.prototype.setclientXorY22=function(e){this.isTouched=true};WXDevil.prototype.setclientXorY=function(e){this.isTouched=true};WXDevil.prototype.setXorYType33=function(e){this.isTouched=true};WXDevil.prototype.clearSthCCC=function(e){this.isTouched=false};WXDevil.prototype.clearSthAAA=function(e){this.isTouched=false};WXDevil.prototype.clearSthBBB=function(e){this.isTouched=false};WXDevil.prototype.setXorYType2=function(e){};WXDevil.prototype.setXorY=function(e){};function Evt(e,t){this.type=e;this.news=t==null?undefined:t}Evt.prototype={constructor:Evt,type:undefined,news:undefined};function SiteEvt(e){if(e!=SiteEvt._guard||SiteEvt._guard==null){}}SiteEvt._instance=undefined;SiteEvt._guard=undefined;SiteEvt.list={};SiteEvt.listOnce={};SiteEvt.getMe=function(){if(SiteEvt._instance==null){SiteEvt._instance=new SiteEvt(SiteEvt._guard=arguments.callee)}return SiteEvt._instance};SiteEvt.rea=function(e){SiteEvt.getMe().removeAll(e)};SiteEvt.re_=function(e,t){SiteEvt.getMe().remove(e,t)};SiteEvt.add=function(e,t,i){SiteEvt.getMe().addEvt(e,t,i)};SiteEvt.dis=function(e,t){SiteEvt.getMe().dispatch(new Evt(e,t))};SiteEvt.prototype={constructor:SiteEvt,addEvt:function(e,t,i){if(SiteEvt.list[e]==null){SiteEvt.list[e]={};SiteEvt.list[e].listener=[];SiteEvt.list[e].listener.push(t);SiteEvt.list[e].ref=[];SiteEvt.list[e].ref.push(i)}else{SiteEvt.list[e].listener.push(t);SiteEvt.list[e].ref.push(i)}},getInfo:function(e){return'[type="'+e+'",'+"len=["+SiteEvt.list[e].listener.length+"]]"},hasType:function(e){return SiteEvt.list[e]==null?false:true},has:function(e,t){if(SiteEvt.list[e]==null){return false}else{var i=SiteEvt.list[e].listener.length;for(var n=0;n<i;n++){if(SiteEvt.list[e].listener[n]==t){return true}}}return false},addOnce:function(e,t){if(SiteEvt.listOnce[e]==null){SiteEvt.listOnce[e]={};SiteEvt.listOnce[e].listener=[];SiteEvt.listOnce[e].listener.push(t);SiteEvt.listOnce[e].ref=[];SiteEvt.listOnce[e].ref.push(t)}else{SiteEvt.listOnce[e].listener.push(t);SiteEvt.listOnce[e].ref.push(t)}},dispatch:function(e){this.dispatchNormal(e);this.dispatchOnce(e)},dispatchNormal:function(e){if(SiteEvt.list[e.type]==null)return;var t=SiteEvt.list[e.type].listener.length-1;for(var i=t;i>=0;i--){if(SiteEvt.list[e.type]!=null&&SiteEvt.list[e.type].listener[i]!=null&&SiteEvt.list[e.type].ref[i]!=null)SiteEvt.list[e.type].listener[i].apply(SiteEvt.list[e.type].ref[i],[e])}},dispatchOnce:function(e){if(SiteEvt.listOnce[e.type]==null)return;var t=SiteEvt.listOnce[e.type].listener.length-1;for(var i=t;i>=0;i--){if(SiteEvt.listOnce[e.type]!=null&&SiteEvt.listOnce[e.type].listener[i]!=null&&SiteEvt.listOnce[e.type].ref[i]!=null){SiteEvt.listOnce[e.type].listener[i].apply(SiteEvt.listOnce[e.type].ref[i],[e]);SiteEvt.listOnce[e.type].listener.splice(i,1);SiteEvt.listOnce[e.type].ref.splice(i,1)}}},removeAll:function(e){if(SiteEvt.list[e]==null)return;SiteEvt.list[e]=null},remove:function(e,t){if(SiteEvt.list[e]==null)return;var i=SiteEvt.list[e].listener.length-1;for(var n=i;n>=0;n--){if(SiteEvt.list[e].listener!=null&&SiteEvt.list[e].listener[n]==t){SiteEvt.list[e].listener.splice(n,1);SiteEvt.list[e].ref.splice(n,1)}}}};function ActMgr(){this.arr=[]}ActMgr.prototype.constructor=ActMgr;ActMgr.prototype.arr;ActMgr.prototype.push=function(e){e.actID=this.arr.length;this.arr.push(e)};ActMgr.prototype.preone=function(){if(this.arr.length>1){return this.arr[this.arr.length-2]}return null};ActMgr.prototype.doNxt=function(e,t){var i=e+1;if(i<this.arr.length){var n=this.arr[i];t(n)}};ActMgr.prototype.first=function(){return this.arr[0]};function AniLoop(){AniLoop.me=this;window.an=this}AniLoop.prototype.constructor=AniLoop;AniLoop.me;AniLoop.prototype.do_png_top=function(){var e=$(".png_top")[0];var t=ABC.imgArr;for(var i=0;i<t.length;i++){var n=t[i];n.setAttribute("class","ptimg");n.style.display="none";e.appendChild(n)}var a=0;function r(){if(a==t.length){window.clearInterval(o)}else{var e=t[a];e.style.display="block";if(a>0){var i=t[a-1];i.style.display="none"}}a++}var o=HKit.loop(.1,r,this)};AniLoop.prototype.waitGif=function(){var e=$(".n2 .gif img");var t=e.attr("src");e.attr("original-data",t);e.attr("src","images/empty.png")};AniLoop.prototype.doGif=function(){var e=$(".n2 .gif img");var t=e.attr("original-data");e.attr("src",t)};AniLoop.prototype.loop=function(e){var t=$(e);function i(){t.fadeIn("slow",n)}function n(){t.fadeOut("slow",i)}n()};AniLoop.prototype.now=function(e){var t=$(e).parent();if(t.css("display")=="none"){t.show();t.children("div").hide()}};function ChangeFace1_Face(e){this.cw=1136;this.ch=640;ChangeFace1_Face.me=this;var t=uPEC.aDiv(".dom-movie-canvas");this.div=t;this.drawCanvas(e)}ChangeFace1_Face.prototype.constructor=ChangeFace1_Face;ChangeFace1_Face.prototype.me;ChangeFace1_Face.prototype.canvas;ChangeFace1_Face.prototype.div;ChangeFace1_Face.prototype.cw;ChangeFace1_Face.prototype.ch;ChangeFace1_Face.prototype.cvs0;ChangeFace1_Face.prototype.cvs1;ChangeFace1_Face.prototype.sttx;ChangeFace1_Face.prototype.stty;ChangeFace1_Face.prototype.maskw;ChangeFace1_Face.prototype.maskh;ChangeFace1_Face.prototype.drawCanvas=function(e){var t=uPEC.aDiv(".dom1m");var i=uPEC.aDiv();var n=uPEC.aCanvas(this.cw,this.ch);this.cvs0=n;this.cvs0.appendTo(this.div);if(e==1){this.maskw=320;this.maskh=432}else{this.maskw=320;this.maskh=480}var a=uPEC.aCanvas(this.maskw,this.maskh);this.cvs1=a;if(e==1){this.sttx=495;this.stty=50}else{this.sttx=380;this.stty=50}this.doDraw(1,0,0,0)};ChangeFace1_Face.prototype.doDraw=function(e,t,i,n){var a=ABC.gender;var r=this.sttx+t;var o=this.stty+i;var s=this.cvs1[0];var c=s.getContext("2d");c.globalCompositeOperation="source-over";c.clearRect(0,0,this.maskw,this.maskh);c.fillStyle="0";c.fillRect(0,0,this.maskw,this.maskh);c.stroke();if(a==1){var l=$(".buffer .buffer1 img")[0]}else{var l=$(".buffer .buffer2 img")[0]}c.save();if(a==1){var h=1.02;var f=parseInt(280*h);var p=parseInt(370*h)}else{var h=1.12;var f=parseInt(280*h);var p=parseInt(370*h)}if(a==1){var v=this.maskw>>1;var u=this.maskh>>1}else{var v=this.maskw>>1;var u=this.maskh>>1}c.translate(v,u);if(a==1){c.rotate(-2*Math.PI/180)}else{c.rotate(-4*Math.PI/180)}c.drawImage(l,-f/2,-p/2,f,p);c.restore();c.globalCompositeOperation="xor";if(a==1){var d=$(".m1 img")[0]}else{var d=$(".f1 img")[0]}c.drawImage(d,0,0);var g=this.cvs0[0];var m=g.getContext("2d");var y=280;var w=this.maskw*e*(y/this.maskw);var C=this.maskh*e*(y/this.maskw);m.clearRect(0,0,this.cw,this.ch);if(a==1){realx=r+(w-this.maskw*e)/2}else{if(n<2){var t=0}else if(n<=4){var t=uMath.vvScope([5,30],[2,5],n)}else if(n<=9){var t=uMath.vvScope([25,30],[4,9],n)}else{var t=uMath.vvScope([30,40],[9,14],n)}realx=r+t}m.drawImage(s,realx,o,w,C)};ChangeFace1_Face.prototype.redraw=function(e){var t=ABC.posData["1m"][e+1];if(!t)return;var i=t[0];var n=t[1];var a=t[2];var r=i/this.cw*100;var o=n/this.ch*100;var s=624/this.cw;var c=241/this.ch;this.doDraw(a,i,n,e)};ChangeFace1_Face.prototype.kill=function(){$(".dom-movie-canvas").remove()};function ChangeFace2_Face(e){this.cw=1136;this.ch=640;ChangeFace2_Face.me=this;if(e==1){$(".dom-male .male-bg").show()}else{$(".dom-female .female-bg").show()}var t=uPEC.aDiv(".dom-movie-canvas");this.div=t;var i=$("#movie-male");var n=$("#movie-female");n.css("display","none");i.css("display","none");if(e==1){i.append(t)}else{n.append(t)}this.drawCanvas(e);if(e==1){i.show()}else{n.show()}}ChangeFace2_Face.prototype.constructor=ChangeFace2_Face;ChangeFace2_Face.prototype.me;ChangeFace2_Face.prototype.canvas;ChangeFace2_Face.prototype.div;ChangeFace2_Face.prototype.cw;ChangeFace2_Face.prototype.ch;ChangeFace2_Face.prototype.cvs0;ChangeFace2_Face.prototype.cvs1;ChangeFace2_Face.prototype.sttx;ChangeFace2_Face.prototype.stty;ChangeFace2_Face.prototype.maskw;ChangeFace2_Face.prototype.maskh;ChangeFace2_Face.prototype.drawCanvas=function(e){var t=uPEC.aDiv(".dom1m");var i=uPEC.aDiv();var n=uPEC.aCanvas(this.cw,this.ch);this.cvs0=n;this.cvs0.appendTo(this.div);if(e==1){this.maskw=419;this.maskh=342}else{this.maskw=419;this.maskh=342}var a=uPEC.aCanvas(this.maskw,this.maskh);this.cvs1=a;if(e==1){this.sttx=410;this.stty=50}else{this.sttx=410;this.stty=50}this.doDraw(1,0,0,0)};ChangeFace2_Face.prototype.doDraw=function(e,t,i,n){var a=ABC.gender;var r=this.sttx+t;var o=this.stty+i;var s=this.cvs1[0];var c=s.getContext("2d");c.globalCompositeOperation="source-over";c.clearRect(0,0,this.maskw,this.maskh);c.fillStyle="0";c.fillRect(0,0,this.maskw,this.maskh);c.stroke();if(a==1){var l=$(".buffer .buffer1 img")[0]}else{var l=$(".buffer .buffer2 img")[0]}c.save();if(a==1){var h=1.12;var f=parseInt(280*h);var p=parseInt(370*h)}else{var h=1.21;var f=parseInt(280*h);var p=parseInt(370*h)}if(a==1){var v=this.maskw>>1;var u=this.maskh>>1}else{var v=this.maskw>>1;var u=this.maskh>>1}c.translate(v,u);if(a==1){c.rotate(3*Math.PI/180)}else{}if(a==1){c.drawImage(l,-f/2-30,-p/2-30,f,p)}else{c.drawImage(l,-f/2+20,-p/2-30,f,p)}c.restore();c.globalCompositeOperation="xor";if(a==1){var d=$(".m2 img")[0]}else{var d=$(".f2 img")[0]}c.drawImage(d,0,0);var g=this.cvs0[0];var m=g.getContext("2d");var y=280;var w=this.maskw*e*(y/this.maskw);var C=this.maskh*e*(y/this.maskw);m.clearRect(0,0,this.cw,this.ch);m.drawImage(s,r,o)};ChangeFace2_Face.prototype.doNext=function(){this.imgStep++;if(this.imgStep==this.imgArr.length){this.imgStep=0}var e=this.imgArr[this.imgStep];var t=e[1];if(t.indexOf("female")>-1){$(".female .female-bg").show();$(".male .male-bg").hide();$(".female").fadeIn();$(".male").hide();this.divFemale.append(this.canvas)}else{$(".female .female-bg").hide();$(".male .male-bg").show();$(".male").fadeIn();$(".female").hide();this.divMale.append(this.canvas)}this.drawCanvas()};ChangeFace2_Face.prototype.redraw=function(e){var t=ABC.posData["2f"][e+1];if(!t)return;var i=t[0];var n=t[1];var a=t[2];this.doDraw(a,i,n,e)};ChangeFace2_Face.prototype.kill=function(){$(".dom-movie-canvas").remove()};function ChangeFace3_Face(e){this.cw=1136;this.ch=640;ChangeFace3_Face.me=this;if(e==1){$(".dom-male .male-bg").show()}else{$(".dom-female .female-bg").show()}var t=uPEC.aDiv(".dom-movie-canvas");this.div=t;var i=$("#movie-male");var n=$("#movie-female");n.css("display","none");i.css("display","none");if(e==1){i.append(t)}else{n.append(t)}this.drawCanvas(e);if(e==1){i.show()}else{n.show()}}ChangeFace3_Face.prototype.constructor=ChangeFace3_Face;ChangeFace3_Face.prototype.me;ChangeFace3_Face.prototype.canvas;ChangeFace3_Face.prototype.div;ChangeFace3_Face.prototype.cw;ChangeFace3_Face.prototype.ch;ChangeFace3_Face.prototype.cvs0;ChangeFace3_Face.prototype.cvs1;ChangeFace3_Face.prototype.cvs2;ChangeFace3_Face.prototype.sttx;ChangeFace3_Face.prototype.stty;ChangeFace3_Face.prototype.maskw;ChangeFace3_Face.prototype.maskh;ChangeFace3_Face.prototype.drawCanvas=function(e){var t=uPEC.aDiv(".dom1m");var i=uPEC.aDiv();var n=uPEC.aCanvas(this.cw,this.ch);this.cvs0=n;this.cvs0.appendTo(this.div);if(e==1){this.maskw=419;this.maskh=342}else{this.maskw=419;this.maskh=342}var a=uPEC.aCanvas(this.maskw,this.maskh);this.cvs1=a;var r=uPEC.aCanvas(this.cw,this.ch);this.cvs2=r;if(e==1){this.sttx=410;this.stty=50}else{this.sttx=410;this.stty=50}this.doDraw(0,0,0,0,0)};ChangeFace3_Face.prototype.doDraw=function(e,t,i,n,a){if(a<5){this.div.hide()}else if(a==5){this.div.show();this.div.css("opacity",.3)}else{this.div.show();this.div.css("opacity",1)}var r=1;var o=ABC.gender;var s=this.cvs0[0];var c=s.getContext("2d");var l=this.cvs1[0];var h=l.getContext("2d");c.globalCompositeOperation="source-over";c.clearRect(0,0,this.cw,this.ch);c.fillStyle="0";c.fillRect(0,0,this.cw,this.ch);c.stroke();if(o==1){var f=$(".buffer .buffer1 img")[0]}else{var f=$(".buffer .buffer2 img")[0]}c.save();if(o==1){var p=.9;var v=parseInt(280*p);var u=parseInt(370*p)}else{var p=1.01;var v=parseInt(280*p);var u=parseInt(370*p)}if(o==1){var d=this.maskw>>1;var g=this.maskh>>1}else{var d=this.maskw>>1;var g=this.maskh>>1}c.translate(d,g);if(o==1){c.rotate(3*Math.PI/180)}else{}if(o==1){var m=733;var y=58;c.drawImage(f,m-v/2-58-6,y-u/2-18,v,u)}else{var m=733;var y=80;c.drawImage(f,m-v/2-88,y-u/2,v,u)}c.restore();c.globalCompositeOperation="xor";if(o==1){var w=$(".m3 img")[0]}else{var w=$(".f3 img")[0]}var C=this.cvs2[0];var b=C.getContext("2d");b.clearRect(0,0,this.cw,this.ch);b.drawImage(w,614.15,0);b.fillStyle="#0";b.fillRect(0,0,615,this.cw);var F="fill";var D=e;var S=t;var A=e+i;var _=t+n/2;var E=e;var x=t+n;b.beginPath();b.moveTo(D,S);b.lineTo(A,_);b.lineTo(E,x);b[F+"Style"]="0";b.closePath();b.fill();c.drawImage(C,0,0)};ChangeFace3_Face.prototype.doNext=function(){this.imgStep++;if(this.imgStep==this.imgArr.length){this.imgStep=0}var e=this.imgArr[this.imgStep];var t=e[1];if(t.indexOf("female")>-1){$(".female .female-bg").show();$(".male .male-bg").hide();$(".female").fadeIn();$(".male").hide();this.divFemale.append(this.canvas)}else{$(".female .female-bg").hide();$(".male .male-bg").show();$(".male").fadeIn();$(".female").hide();this.divMale.append(this.canvas)}this.drawCanvas()};ChangeFace3_Face.prototype.redraw=function(e){if(e<=7){this.doDraw(0,0,0,0,e)}else{var t=ABC.posData["angle"][e+1];if(!t)return;var i=t[0];var n=t[1];var a=t[2];var r=t[3];this.doDraw(i,n,a,r,e)}};ChangeFace3_Face.prototype.kill=function(){$(".dom-movie-canvas").remove()};function ChangeFace4_Face(e){this.cw=1136;this.ch=640;ChangeFace4_Face.me=this;if(e==1){$(".dom-male .male-bg").show()}else{$(".dom-female .female-bg").show()}var t=uPEC.aDiv(".dom-movie-canvas");this.div=t;var i=$("#movie-male");var n=$("#movie-female");n.css("display","none");i.css("display","none");if(e==1){i.append(t)}else{n.append(t)}this.drawCanvas(e);if(e==1){i.show()}else{n.show()}}ChangeFace4_Face.prototype.constructor=ChangeFace4_Face;ChangeFace4_Face.prototype.me;ChangeFace4_Face.prototype.canvas;ChangeFace4_Face.prototype.div;ChangeFace4_Face.prototype.cw;ChangeFace4_Face.prototype.ch;ChangeFace4_Face.prototype.cvs0;ChangeFace4_Face.prototype.cvs1;ChangeFace4_Face.prototype.cvs2;ChangeFace4_Face.prototype.sttx;ChangeFace4_Face.prototype.stty;ChangeFace4_Face.prototype.maskw;ChangeFace4_Face.prototype.maskh;ChangeFace4_Face.prototype.drawCanvas=function(e){var t=uPEC.aDiv(".dom1m");var i=uPEC.aDiv();var n=uPEC.aCanvas(this.cw,this.ch);this.cvs0=n;this.cvs0.appendTo(this.div);if(e==1){this.maskw=419;this.maskh=342}else{this.maskw=419;this.maskh=342}var a=uPEC.aCanvas(this.maskw,this.maskh);this.cvs1=a;var r=uPEC.aCanvas(this.cw,this.ch);this.cvs2=r;if(e==1){this.sttx=410;this.stty=50}else{this.sttx=410;this.stty=50}};ChangeFace4_Face.prototype.doDraw=function(e,t,i,n,a){if(e>this.cw){return}var r=1;var o=ABC.gender;var s=this.cvs0[0];var c=s.getContext("2d");var l=this.cvs1[0];var h=l.getContext("2d");c.globalCompositeOperation="source-over";c.clearRect(0,0,this.cw,this.ch);c.fillStyle="0";c.fillRect(0,0,this.cw,this.ch);c.stroke();if(o==1){var f=$(".buffer .buffer1 img")[0]}else{var f=$(".buffer .buffer2 img")[0]}c.save();if(o==1){var p=.9;var v=parseInt(280*p);var u=parseInt(370*p)}else{var p=1.01;var v=parseInt(280*p);var u=parseInt(370*p)}if(o==1){var d=this.maskw>>1;var g=this.maskh>>1}else{var d=this.maskw>>1;var g=this.maskh>>1}c.translate(d,g);if(o==1){c.rotate(3*Math.PI/180)}else{}if(o==1){var m=733;var y=58;c.drawImage(f,m-v/2-58-6,y-u/2-18,v,u)}else{var m=733;var y=80;c.drawImage(f,m-v/2-88,y-u/2,v,u)}c.restore();if(o==1){var w=$(".m4 img")[0]}else{var w=$(".f4 img")[0]}var C=this.cvs2[0];var b=C.getContext("2d");b.clearRect(0,0,this.cw,this.ch);b.drawImage(w,614.15,0);b.fillStyle="#ff0000";b.fillRect(0,t,e,n);if(e+i>this.cw){}else{b.fillStyle="#00ff00";b.fillRect(e+i,t,this.cw-(e+i),n)}b.fillStyle="#0000ff";b.fillRect(0,0,this.cw,this.ch-n);c.drawImage(C,0,0)};ChangeFace4_Face.prototype.doNext=function(){this.imgStep++;if(this.imgStep==this.imgArr.length){this.imgStep=0}var e=this.imgArr[this.imgStep];var t=e[1];if(t.indexOf("female")>-1){$(".female .female-bg").show();$(".male .male-bg").hide();$(".female").fadeIn();$(".male").hide();this.divFemale.append(this.canvas)}else{$(".female .female-bg").hide();$(".male .male-bg").show();$(".male").fadeIn();$(".female").hide();this.divMale.append(this.canvas)}this.drawCanvas()};ChangeFace4_Face.prototype.redraw=function(e){if(ABC.num==1){var t=ABC.posData["m4m"][e+1]}else{var t=ABC.posData["f4m"][e+1]}if(!t)return;var i=t[0];var n=t[1];var a=t[2];var r=t[3];this.doDraw(i,n,a,r,e)};ChangeFace4_Face.prototype.kill=function(){$(".dom-movie-canvas").remove()};function Cn3(){Cn3.me=this;this.sel=0}Cn3.prototype.constructor=Cn3;Cn3.prototype.sel;Cn3.me;Cn3.prototype.init=function(){$(".n3 .btn-1 .no-sel").hide();$(".n3 .btn-1 .sel").hide();$(".n3 .btn-2 .no-sel").hide();$(".n3 .btn-2 .sel").hide();$(".n3 .btn-1 .txt").hide();$(".n3 .btn-2 .txt").hide()};Cn3.prototype.sel1=function(){$(".n3 .btn-1 .no-sel").fadeOut();$(".n3 .btn-1 .sel").fadeIn();$(".n3 .btn-2 .no-sel").fadeIn();$(".n3 .btn-2 .sel").fadeOut();$(".n3 .btn-1 .txt").fadeIn();$(".n3 .btn-2 .txt").fadeOut();this.sel=ABC.gender=1};Cn3.prototype.sel2=function(){
$(".n3 .btn-1 .no-sel").fadeIn();$(".n3 .btn-1 .sel").fadeOut();$(".n3 .btn-2 .no-sel").fadeOut();$(".n3 .btn-2 .sel").fadeIn();$(".n3 .btn-1 .txt").fadeOut();$(".n3 .btn-2 .txt").fadeIn();this.sel=ABC.gender=2};function Cn4(){if(ABC.gender==1){$(".n4 .n4n1").show();$(".n4 .n4n2").hide();AniLoop.me.loop($(".n4 .n4n1 .light"))}else{$(".n4 .n4n1").hide();$(".n4 .n4n2").show();AniLoop.me.loop($(".n4 .n4n2 .light"))}}Cn4.prototype.constructor=Cn4;function Cn5(){if(OJ.GetQueryString("test")){$(".buffer").css({position:"fixed",left:"0",top:"0",zIndex:"1000"})}window.cn5=this;if(ABC.gender==1){$(".n5 .face1m").show();$(".n5 .face1f").hide()}else{$(".n5 .face1m").hide();$(".n5 .face1f").show()}}Cn5.prototype.constructor=Cn5;Cn5.prototype.imgss1;Cn5.prototype.imgss2;Cn5.prototype.load=function(){$(".n5 .btns_").hide();MV2.init();if(ABC.gender==1){var e=new ImgAsset(1);e.ing=HKit.fn(this.oning,this);e.ok=HKit.fn(this.onok,this);window.cn5.imgss1=e}else{var t=new ImgAsset(2);t.ing=HKit.fn(this.oning,this);t.ok=HKit.fn(this.onok,this);window.cn5.imgss2=t}};Cn5.prototype.oning=function(e,t){$(".btm-red-bar").css("width",e/t*70+"%")};Cn5.prototype.onok=function(){H5Loader.loadImg(".game-main-body img",this.oning2,this.onok2,this)};Cn5.prototype.onok2=function(){$(".btm-red-bar").css("width",0+"%");$(".game-main-body .movie-bg").show();MV2.me.playMovie();$(".game-main-stt").hide();$(".game-main-body").show()};Cn5.prototype.oning2=function(e,t){$(".btm-red-bar").css("width",e/t*30+70+"%")};function CnEnd(){H5Loader.loadImg(".game-main-end",this.ending,this.endok,this)}CnEnd.prototype.constructor=CnEnd;CnEnd.prototype.endok=function(){new ScreenLast_Face};CnEnd.prototype.ending=function(e,t){};function enumID(){}enumID.prototype.constructor=enumID;enumID.onresize=1;enumID.onorientationchange=2;enumID.onrotated=4;function JPGArr(){}JPGArr.prototype.constructor=JPGArr;JPGArr.getNum=function(e){return ABC.num[e]};JPGArr.loop=function(e){return JPGArr.getLN(e)[5]};JPGArr.next=function(e){return JPGArr.getLN(e)[6]};JPGArr.type=function(e){return JPGArr.getLN(e)[0]};JPGArr.id=function(e){return JPGArr.getLN(e)[1]};JPGArr.getLN=function(e){for(var t=0;t<ABC.jpgArr.length;t++){var i=ABC.jpgArr[t];var n=i[0];var a=i[1];if(n==3&&e==a){return i}if(ABC.gender==n&&e==a){return i}}};JPGArr.getNum=function(e){return ABC.num[e]};function JS90(){WXDevil.getMe().killWXdevil();UDevice.getMe().init();var e=$(window).width();var t=$(document.body).height();this.state=0;SiteEvt.add(enumID.onresize,this.onresize,this);this.onresize()}JS90.prototype.constructor=JS90;JS90.prototype.state;JS90.getWH=function(){var e=document.body.clientWidth;var t=document.body.clientHeight;if(e>t){return[e,t]}else{return[t,e]}};JS90.prototype.onresize=function(e){var t=$(window).width();var i=$(window).height();if(t<i){this.doV()}else{this.do__()}SiteEvt.dis(enumID.onrotated)};JS90.prototype.onorientationonchange=function(e){var t=window.orientation;if(t==90||t==-90){this.doV()}else{this.do__()}};JS90.prototype.do__=function(){var e=document.body.clientWidth;var t=document.body.clientHeight;$("#pageWrap").css({transform:"rotate(0deg)",width:e+"px",height:t+"px"})};JS90.prototype.doV=function(){var e=document.body.clientWidth;var t=document.body.clientHeight;var i=(t-e)/2+"px";$("#pageWrap").css({transform:"rotate(90deg) translate("+i+","+i+")",width:t+"px",height:e+"px",display:"block"})};function JS90V2(){if(window.orientation==undefined){$("body").show();changeWindow()}else{doOnOrientationChange();$("body").show()}window.addEventListener("orientationchange",function(){doOnOrientationChange();if(window.orientation==0){}else{}if(window.orientation==0){}else{}})}JS90V2.prototype.constructor=JS90V2;function doOnOrientationChange(){switch(window.orientation){case-90:case 90:setTimeout(function(){lanscapeChange()},200);break;case 0:setTimeout(function(){changeWindow()},100);break;default:setTimeout(function(){lanscapeChange()},200);break}}function changeWindow(){var e=document.body.clientWidth;var t=document.body.clientHeight;var i=(t-e)/2+"px";$("#pageWrap").css({transform:"rotate(90deg) translate("+i+","+i+")",width:t+"px",height:e+"px",display:"block"})}function lanscapeChange(){var e=document.body.clientWidth;var t=document.body.clientHeight;$("#pageWrap").css({transform:"rotate(0deg)",width:e+"px",height:t+"px"})}function MiniData(){this.completePlay=false}MiniData.prototype.constructor=MiniData;MiniData.prototype.loaded=0;MiniData.prototype.len=0;MiniData.prototype.group;MiniData.prototype.now;MiniData.prototype.isbat;MiniData.prototype.asset;MiniData.prototype.point;MiniData.prototype.infoArr;MiniData.prototype.totalnum;MiniData.prototype.loadnum;MiniData.prototype.completePlay;MiniData.prototype.actID;MiniData.prototype.startPlay;MiniData.prototype.code=function(){return this.getInfo()[7]};MiniData.prototype.couldpre=function(){if(this.isbat){for(var e=0;e<this.infoArr.length;e++){var t=this.infoArr[e];if(t.length>8){var i=t[8];if(i){return true}}}return false}else{return this.infoArr[0][8]}return this.getInfo()[8]};MiniData.prototype.code2pre=function(){if(this.isbat){var e="";for(var t=0;t<this.infoArr.length;t++){var i=this.infoArr[t];if(i.length>7){var n=i[7];e+=n}}return e}else{return this.infoArr[0][7]}return this.getInfo()[7]};MiniData.prototype.loop=function(){return this.getInfo()[5]};MiniData.prototype.next=function(){return this.getInfo()[6]};MiniData.prototype.type=function(){return this.getInfo()[0]};MiniData.prototype.id=function(){return this.getInfo()[1]};MiniData.prototype.getInfo=function(){if(this.isbat){return this.infoArr[this.point]}else{return this.infoArr[0]}};function MV(){}MV.prototype.constructor=MV;MV.prototype.playJPG=function(e){if(e==undefined){return}var t=this;var i=0;function n(){if(i==e.length){window.clearInterval(t.d);t.check();return}var n=e[i];n.style.display="block";if(i==0){var a=e[e.length-1];a.style.display="none"}if(i>0&&i<e.length){var a=e[i-1];a.style.display="none"}i++}this.d=HKit.loop(ABC.frame,n,this)};function MV1(){window.mv1=this}MV1.prototype.constructor=MV1;MV1.prototype.tag;MV1.prototype.d;MV1.prototype.one;MV1.init=function(){if(!window.mv1){new MV1}};MV1.prototype.playJPG=function(e){if(e==undefined){return}var t=this;var i=0;function n(){if(i==e.length){window.clearInterval(t.d);t.check();return}var n=e[i];n.style.display="block";if(i==0){var a=e[e.length-1];a.style.display="none"}if(i>0&&i<e.length){var a=e[i-1];a.style.display="none"}i++}this.d=HKit.loop(ABC.frame,n,this)};MV1.prototype.playHomepage=function(){this.tag="0";var e=window.preload.imgass.getImg(["0","0a"]);for(var t=0;t<e.length;t++){var i=e[t];for(var n=0;n<i.length;n++){var a=i[n];$(".n2 .dom-holder").append(a)}}var r=this;var i=e[0];this.playJPG(i);this.arr=e};MV1.prototype.removeOld=function(){for(var e=0;e<this.imgArr.length;e++){var t=this.imgArr[e];$(t).remove()}};MV1.prototype.check=function(){if(this.tag=="0"){$(".btn-start").fadeIn();an.do_png_top()}this.tag="0a";this.playJPG(this.arr[1])};MV1.prototype.kill=function(){clearInterval(this.d)};function MV2(){MV2.me=this}MV2.prototype.constructor=MV2;MV2.me;MV2.prototype.order;MV2.prototype.allArr;MV2.prototype.point=0;MV2.init=function(){if(!window.mv2){new MV2}};MV2.prototype.playJPG=function(e,t,i){if(e==undefined){return}var n=this;var a=0;function r(){if(a==e.length){if(i==8){a=0;if(ABC.click_n11){n.check();return}}else{n.check();return}}var r=e[a];r.style.display="block";if(a==0){var o=e[e.length-1];o.style.display="none"}if(a>0&&a<e.length){var o=e[a-1];o.style.display="none"}if(t==1||t==2){if(window.face){window.face.redraw(a)}}a++}this.d=HKit.loop(ABC.frame,r,this)};MV2.prototype.playMovie=function(){ABC.click_n11=false;this.allArr=[];this.tag="1";this.point=0;this.order=[1,2,3,4,5,6,7,8,9,10,11];var e;if(ABC.gender==1){e=window.cn5.imgss1}else{e=window.cn5.imgss2}for(var t=0;t<this.order.length;t++){var i=this.order[t];var n=window.preload.imgass.getImgOne(i);var a=e.getImgOne(i);var r;if(n.length>0){r=n}else if(a.length>0){r=a}else{}for(var o=0;o<r.length;o++){var s=r[o];$(".n6 .timeline").append(s)}this.allArr.push(r)}$(".game-main-body>div").hide();$(".game-main-body>.n6").show();this.check()};MV2.prototype.check=function(){if(this.d){window.clearInterval(this.d)}if(this.point+1>this.allArr.length){new CnEnd;return}var e=this.order[this.point];var t=JPGArr.type(e);var i=JPGArr.loop(e);var n=this.allArr[this.point];this.playJPG(n,t,e);if(t==1||t==2){if(e=="1"){window.face=new ChangeFace1_Face(ABC.gender)}if(e=="3"){window.face=new ChangeFace2_Face(ABC.gender)}if(e=="6"){window.face=new ChangeFace3_Face(ABC.gender)}if(e=="10"){}}else{if(window.face){window.face.kill();window.face=null}}if(e==8){$(".game-main-body>.n11").show();$(".n11 .hotarea").css("opacity",.001);$(".n11 .hotarea").click(function(){ABC.click_n11=true;$(".game-main-body>.n11").hide()})}this.point++};MV2.prototype.kill=function(){clearInterval(this.d)};function PEC(){PEC.me=this;this.state=0;$(".game-main-stt").hide();$(".game-main-body").hide();$(".game-main-end").hide();H5Loader.loadImg(".game-main-stt img",this.onloading,this.onloadok,this);SiteEvt.add("imgok",this.imgok,this)}PEC.prototype.constructor=PEC;PEC.me;PEC.prototype.state;PEC.prototype.imgok=function(e){var t=e.news.path;var i=OJ.GetQueryString("test");if(i||ABC.isstatic){if(ABC.gender==1){t="images/m1.jpg"}if(ABC.gender==2){t="images/f1.jpg"}}if(ABC.gender==1){$(".buffer .buffer1 img")[0].onload=function(){h5jump.doNext(1);new ScreenDriver_Face(1)};$(".buffer .buffer1 img")[0].src=t}if(ABC.gender==2){$(".buffer .buffer2 img")[0].onload=function(){h5jump.doNext(1);new ScreenDriver_Face(2)};$(".buffer .buffer2 img")[0].src=t}};PEC.prototype.onloading=function(e,t){Preload.me.doUpdate(e,t)};PEC.prototype.onloadok=function(){Preload.me.doUpdate(100,100)};PEC.prototype.doFade=function(){HKit.delay(.4,function(){var e=$(".loading_mid .redbar");$(".css-num").fadeOut("slow");e.fadeOut("slow",function(){var t=$(".loading_mid .txt");t.fadeIn("slow");e.fadeIn("slow",function(){HKit.delay(1,function(){$(".loading_mid").fadeOut("slow")});HKit.delay(1.6,function(){window.mv1.playHomepage();$(".dom-holder").hide();$(".dom-holder").fadeIn()})})});new Cn3;new AniLoop;new H5Jump;new JS90})};function ScreenDriver_Face(e){ScreenDriver_Face.me=this;var t=$(".game-page");if(e==1){$(".male .male-bg").show()}else{$(".female .female-bg").show()}var i=uPEC.aDiv(".dom-canvas");this.div=i;var n=$("#pre-male");var a=$("#pre-female");a.css("display","none");n.css("display","none");if(e==1){n.append(i)}else{a.append(i)}this.drawCanvas(e);if(e==1){n.show()}else{a.show()}}ScreenDriver_Face.prototype.constructor=ScreenDriver_Face;ScreenDriver_Face.prototype.me;ScreenDriver_Face.prototype.canvas;ScreenDriver_Face.prototype.div;ScreenDriver_Face.prototype.drawCanvas=function(e){var t=uPEC.aDiv(".lastPhoto");var i=uPEC.aDiv();var n=uPEC.aCanvas(1334,648);this.cvs1=n;this.cvs1.appendTo(this.div);this.cvs1.width("100%");var a=n[0];var r=a.getContext("2d");r.clearRect(0,0,1134,648);r.fillStyle="0";r.fillRect(0,0,1334,648);r.stroke();if(e==1){var o=$(".buffer .buffer1 img")[0]}else{var o=$(".buffer .buffer2 img")[0]}r.save();if(e==1){var s=1;var c=parseInt(280*s);var l=parseInt(370*s)}else{var s=1.18;var c=parseInt(280*s);var l=parseInt(370*s)}if(e==1){var h=650;var f=230}else{var h=660;var f=250}r.translate(h,f);if(e==1){r.rotate(-2*Math.PI/180)}else{r.rotate(-4*Math.PI/180)}r.drawImage(o,-c/2,-l/2,c,l);r.restore();r.globalCompositeOperation="xor";if(e==1){var p=$(".male .male-face img")[0]}else{var p=$(".female .female-face img")[0]}r.drawImage(p,0,0)};function ScreenLast_Face(e){$(".zhy").show();this.maleOriginal=$(".zhy .male");this.doDraw1(e)}ScreenLast_Face.prototype.constructor=ScreenLast_Face;ScreenLast_Face.prototype.cvs2;ScreenLast_Face.prototype.maleOriginal;ScreenLast_Face.prototype.doDraw1=function(e){var t=uPEC.aDiv(".lastPhoto");var i=uPEC.aDiv();var n=uPEC.aCanvas(233,113);var a=uPEC.aCanvas(866,537);this.cvs1=n;this.cvs2=a;this.cvs2.appendTo(t);var r=n[0];var o=r.getContext("2d");o.fillStyle="0";o.fillRect(0,0,233,113);o.stroke();if(e==1){var s=$(".buffer .p2 img")[0]}else{var s=$(".buffer .f2 img")[0]}o.save();if(e==1){var c=60;var l=73}else{var c=64;var l=77}if(e==1){var h=119;var f=44}else{var h=114;var f=40}o.translate(h,f);o.rotate(-4*Math.PI/180);o.drawImage(s,-c/2,-l/2,c,l);o.restore();if(e==1){var p=$(".zhy .male .face .black img")[0]}else{var p=$(".zhy .female .face .black img")[0]}o.globalCompositeOperation="xor";o.drawImage(p,0,0);var v=a[0];var u=v.getContext("2d");if(e==1){var d=$(".zhy .male .bg img")[0]}else{var d=$(".zhy .female .bg img")[0]}u.drawImage(d,0,0);if(e==1){u.drawImage(r,532,65)}else{u.drawImage(r,543,99)}TweenLite.set(t,{rotation:"-0.4deg"});var g=this.maleOriginal;var m=this.maleOriginal.position();var y=this.maleOriginal.css("left");var w=this.maleOriginal.css("top");var C=uPEC.convertCanvasToImage(this.cvs2[0]);t.css({width:"64.92%",height:"auto",left:"4.87%",bottom:"12.27%"});t.find("canvas").css({width:"100%",bottom:"0"});$(C).css({width:"100%",bottom:"0"});t.empty();t.append($(C))};function uPEC(){}uPEC.prototype.constructor=uPEC;uPEC.aCanvas=function(e,t){var i=$("<canva"+"s></canva"+"s>");var n=i[0];n.width=e;n.height=t;return i};uPEC.aDiv=function(e){var t=$('<div class="abs"></div>');t.appendTo($("#pageWrap"));if(e){if(e.indexOf(".")>-1){var i=e.replace(".","");t.addClass(i)}}return t};uPEC.convertCanvasToImage=function(e){var t=new Image;t.src=e.toDataURL("image/png");return t};uPEC.GetQueryString=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)");var i=window.location.search.substr(1).match(t);if(i!=null)return unescape(i[2]);return null};